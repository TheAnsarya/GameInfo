{{Back|Yoshi's Cookie (NES)}}
{{Rammap}}
{{Cleanup}}

= Yoshi's Cookie (NES) - RAM Map =

This page documents the RAM structure for '''Yoshi's Cookie''' (NES).

== Overview ==

Yoshi's Cookie uses standard NES RAM ($0000-$07ff). As an NROM game, there is no additional cartridge RAM.

== Zero Page ($00-$ff) ==

=== System Variables ($00-$1f) ===

{| class="wikitable"
! Address !! Size !! Description
|-
| $00 || 1 byte || Scratch register A
|-
| $01 || 1 byte || Scratch register B
|-
| $02 || 2 bytes || General pointer
|-
| $04 || 2 bytes || Secondary pointer
|-
| $06 || 1 byte || Loop counter
|-
| $07 || 1 byte || Frame counter
|-
| $08 || 1 byte || NMI complete flag
|-
| $09 || 1 byte || PPU control shadow ($2000)
|-
| $0a || 1 byte || PPU mask shadow ($2001)
|-
| $0b || 1 byte || Scroll X
|-
| $0c || 1 byte || Scroll Y
|-
| $0d || 1 byte || Random seed low
|-
| $0e || 1 byte || Random seed high
|-
| $0f || 1 byte || Global timer
|}

===Input State ($10-$1f)===

{| class="wikitable"
! Address !! Size !! Description
|-
| $10 || 1 byte || Controller 1 current
|-
| $11 || 1 byte || Controller 1 previous
|-
| $12 || 1 byte || Controller 1 pressed (new)
|-
| $13 || 1 byte || Controller 2 current
|-
| $14 || 1 byte || Controller 2 previous
|-
| $15 || 1 byte || Controller 2 pressed (new)
|-
| $16 || 1 byte || Input repeat timer
|-
| $17 || 1 byte || Input repeat delay
|}

===Controller Button Bits===

{| class="wikitable"
! Bit !! Button
|-
| 7 || A
|-
| 6 || B
|-
| 5 || Select
|-
| 4 || Start
|-
| 3 || Up
|-
| 2 || Down
|-
| 1 || Left
|-
| 0 || Right
|}

===Game State ($20-$3f)===

{| class="wikitable"
! Address !! Size !! Description
|-
| $20 || 1 byte || Game mode
|-
| $21 || 1 byte || Game sub-mode
|-
| $22 || 1 byte || Pause flag
|-
| $23 || 1 byte || Demo mode flag
|-
| $24 || 3 bytes || Player 1 score (BCD)
|-
| $27 || 3 bytes || Player 2 score (BCD)
|-
| $2a || 1 byte || Current round number
|-
| $2b || 1 byte || Game speed setting
|-
| $2c || 1 byte || Music selection
|-
| $2d || 1 byte || VS mode wins (P1)
|-
| $2e || 1 byte || VS mode wins (P2)
|-
| $2f || 1 byte || Match wins required
|-
| $30 || 1 byte || Game over flag
|-
| $31 || 1 byte || Victory flag
|}

===Game Mode Values===

{| class="wikitable"
! Value !! Mode
|-
| $00 || Title screen
|-
| $01 || Main menu
|-
| $02 || 1P Action mode
|-
| $03 || 1P Puzzle mode
|-
| $04 || VS mode
|-
| $05 || Options
|-
| $06 || Demo/attract
|-
| $07 || Game over
|-
| $08 || Ending
|}

==Puzzle Board State ($40-$7f)==

===Player 1 Board ($40-$5f)===

{| class="wikitable"
! Address !! Size !! Description
|-
| $40-$58 || 25 bytes || Board tiles (5×5 grid)
|-
| $59 || 1 byte || Cursor X position (0-4)
|-
| $5a || 1 byte || Cursor Y position (0-4)
|-
| $5b || 1 byte || Cursor mode (row/column select)
|-
| $5c || 1 byte || Animation state
|-
| $5d || 1 byte || Animation timer
|-
| $5e || 1 byte || Next row cookie type
|-
| $5f || 1 byte || Next column cookie type
|}

===Player 2 Board ($60-$7f)===

Same structure as Player 1, offset by $20.

===Cookie Type Values===

{| class="wikitable"
! Value !! Type
|-
| $00 || Empty
|-
| $01 || Heart (red)
|-
| $02 || Diamond (blue)
|-
| $03 || Circle (yellow)
|-
| $04 || Flower (pink)
|-
| $05 || Yoshi (special)
|}

==Animation State ($80-$9f)==

===Mario Animation ($80-$8f)===

{| class="wikitable"
! Address !! Size !! Description
|-
| $80 || 1 byte || Mario sprite X
|-
| $81 || 1 byte || Mario sprite Y
|-
| $82 || 1 byte || Mario animation ID
|-
| $83 || 1 byte || Mario animation frame
|-
| $84 || 1 byte || Mario animation timer
|-
| $85 || 1 byte || Mario state
|}

===Yoshi Animation ($90-$9f)===

{| class="wikitable"
! Address !! Size !! Description
|-
| $90 || 1 byte || Yoshi sprite X
|-
| $91 || 1 byte || Yoshi sprite Y
|-
| $92 || 1 byte || Yoshi animation ID
|-
| $93 || 1 byte || Yoshi animation frame
|-
| $94 || 1 byte || Yoshi animation timer
|-
| $95 || 1 byte || Yoshi state
|}

===Animation IDs===

{| class="wikitable"
! ID !! Mario !! Yoshi
|-
| $00 || Idle || Idle
|-
| $01 || Push row || Eating
|-
| $02 || Push column || Happy
|-
| $03 || Victory || Sad
|-
| $04 || Defeat || --
|}

==Match Detection ($a0-$bf)==

{| class="wikitable"
! Address !! Size !! Description
|-
| $a0 || 1 byte || Match detected flag
|-
| $a1 || 1 byte || Rows matched (bitfield)
|-
| $a2 || 1 byte || Columns matched (bitfield)
|-
| $a3 || 1 byte || Yoshi cookie in match
|-
| $a4 || 1 byte || Combo counter
|-
| $a5 || 1 byte || Chain counter
|-
| $a6 || 2 bytes || Points to add
|-
| $a8 || 1 byte || Clear animation phase
|-
| $a9 || 1 byte || Clear animation timer
|}

==VS Mode State ($c0-$df)==

{| class="wikitable"
! Address !! Size !! Description
|-
| $c0 || 1 byte || VS mode active
|-
| $c1 || 1 byte || Current attacker (1 or 2)
|-
| $c2 || 1 byte || Attack type queued (P1)
|-
| $c3 || 1 byte || Attack type queued (P2)
|-
| $c4 || 1 byte || Attack animation phase
|-
| $c5 || 1 byte || Round winner
|-
| $c6 || 1 byte || Match winner
|}

===Attack Type Values===

{| class="wikitable"
! Value !! Attack
|-
| $00 || None
|-
| $01 || Add row
|-
| $02 || Add column
|-
| $03 || Speed up
|-
| $04 || Scramble
|}

==Puzzle Mode State ($e0-$ef)==

{| class="wikitable"
! Address !! Size !! Description
|-
| $e0 || 1 byte || Current puzzle number
|-
| $e1 || 1 byte || Puzzle complete flag
|-
| $e2 || 1 byte || Move counter
|-
| $e3 || 1 byte || Best move count
|-
| $e4 || 1 byte || Time remaining
|-
| $e5 || 1 byte || Hint available
|}

==OAM Buffer ($0200-$02ff)==

Standard NES sprite buffer for OAM DMA.

{| class="wikitable"
! Offset !! Size !! Description
|-
| $00 || 1 byte || Y position
|-
| $01 || 1 byte || Tile index
|-
| $02 || 1 byte || Attributes
|-
| $03 || 1 byte || X position
|}

64 sprite slots × 4 bytes = 256 bytes total.

===Sprite Attribute Bits===

{| class="wikitable"
! Bits !! Description
|-
| 0-1 || Palette (0-3)
|-
| 5 || Priority
|-
| 6 || Horizontal flip
|-
| 7 || Vertical flip
|}

==Audio State ($0300-$033f)==

{| class="wikitable"
! Address !! Size !! Description
|-
| $0300 || 1 byte || Current music ID
|-
| $0301 || 1 byte || Music playing flag
|-
| $0302 || 2 bytes || Music data pointer
|-
| $0304 || 1 byte || SFX queue slot 1
|-
| $0305 || 1 byte || SFX queue slot 2
|-
| $0306 || 1 byte || SFX priority
|-
| $0307-$030f || 9 bytes || Channel state
|-
| $0310-$033f || 48 bytes || Note/timing data
|}

==Name Table Update Buffer ($0400-$04ff)==

Buffer for background tile updates during NMI.

{| class="wikitable"
! Address !! Size !! Description
|-
| $0400 || 1 byte || Update count
|-
| $0401-$04ff || 255 bytes || Update entries
|}

Each update entry:
{| class="wikitable"
! Offset !! Size !! Description
|-
| $00 || 1 byte || PPU address high
|-
| $01 || 1 byte || PPU address low
|-
| $02 || 1 byte || Tile index
|}

==Palette Buffer ($0500-$051f)==

{| class="wikitable"
! Address !! Size !! Description
|-
| $0500-$050f || 16 bytes || Background palettes (4×4)
|-
| $0510-$051f || 16 bytes || Sprite palettes (4×4)
|}

==Scratch / Stack Area ($0600-$07ff)==

{| class="wikitable"
! Address !! Description
|-
| $0600-$06ff || General scratch area
|-
| $0700-$07ff || Stack (grows down from $07ff)
|}

==Notes==

* No battery save - high scores are not saved
* Simple NROM mapper means all code is always accessible
* 2-player VS mode shares RAM space efficiently
* Puzzle mode stores solutions separately from current state

[[Category:Yoshi's Cookie (NES)|RAM map]]
