@namespace DarkRepos.Web.Components.Shared

<nav class="breadcrumbs" aria-label="Breadcrumb">
	@foreach (var (item, index) in Items.Select((item, index) => (item, index)))
	{
		@if (index > 0)
		{
			<span class="breadcrumb-separator" aria-hidden="true">@Separator</span>
		}

		@if (index == Items.Count - 1)
		{
			<span class="breadcrumb-item" aria-current="page">
				@if (!string.IsNullOrEmpty(item.Icon))
				{
					<span class="breadcrumb-icon" aria-hidden="true">@item.Icon</span>
				}
				@item.Label
			</span>
		}
		else
		{
			<span class="breadcrumb-item">
				<a href="@item.Href">
					@if (!string.IsNullOrEmpty(item.Icon))
					{
						<span class="breadcrumb-icon" aria-hidden="true">@item.Icon</span>
					}
					@item.Label
				</a>
			</span>
		}
	}
</nav>

@code {
	/// <summary>
	/// The breadcrumb items to display.
	/// </summary>
	[Parameter]
	public IReadOnlyList<BreadcrumbItem> Items { get; set; } = [];

	/// <summary>
	/// The separator character between items.
	/// </summary>
	[Parameter]
	public string Separator { get; set; } = "/";

	/// <summary>
	/// Represents a single breadcrumb item.
	/// </summary>
	public record BreadcrumbItem(string Label, string Href, string? Icon = null);
}
