@*
	Skeleton Component
	Shows animated placeholder shapes during content loading.
	Better UX than spinners for known content layouts.
*@
<div class="skeleton @GetVariantClass() @(Animated ? "animated" : "")"
	 style="@GetStyles()"
	 role="presentation"
	 aria-hidden="true"></div>

@code {
	/// <summary>
	/// Variant determines the shape of the skeleton.
	/// </summary>
	[Parameter]
	public SkeletonVariant Variant { get; set; } = SkeletonVariant.Text;

	/// <summary>
	/// Custom width (e.g., "100%", "200px", "50%").
	/// </summary>
	[Parameter]
	public string? Width { get; set; }

	/// <summary>
	/// Custom height (e.g., "1rem", "200px").
	/// </summary>
	[Parameter]
	public string? Height { get; set; }

	/// <summary>
	/// Whether to show the shimmer animation.
	/// </summary>
	[Parameter]
	public bool Animated { get; set; } = true;

	/// <summary>
	/// Number of skeleton items to repeat (for text lines).
	/// </summary>
	[Parameter]
	public int Count { get; set; } = 1;

	private string GetVariantClass() => Variant switch
	{
		SkeletonVariant.Text => "skeleton-text",
		SkeletonVariant.Circle => "skeleton-circle",
		SkeletonVariant.Rectangle => "skeleton-rect",
		SkeletonVariant.Card => "skeleton-card",
		SkeletonVariant.Avatar => "skeleton-avatar",
		SkeletonVariant.Button => "skeleton-button",
		_ => "skeleton-text"
	};

	private string GetStyles()
	{
		var styles = new List<string>();

		if (!string.IsNullOrEmpty(Width))
			styles.Add($"width: {Width}");

		if (!string.IsNullOrEmpty(Height))
			styles.Add($"height: {Height}");

		return string.Join("; ", styles);
	}

	/// <summary>
	/// Skeleton shape variants.
	/// </summary>
	public enum SkeletonVariant
	{
		Text,
		Circle,
		Rectangle,
		Card,
		Avatar,
		Button
	}
}
