{{rommap|game=Dragon Warrior 2 (NES)}}

This is a preliminary ROM map for ''Dragon Warrior II'' (NES). This document outlines the structure of the ROM and the location of key data.

==ROM Header==
The ROM uses the [[iNES]] format header.

{| class="wikitable"
! Offset !! Size !! Description
|-
| $00-03 || 4 || NES header signature ("NES" + $1a)
|-
| $04 || 1 || PRG ROM size (8 = 128KB)
|-
| $05 || 1 || CHR ROM size (16 = 128KB)
|-
| $06 || 1 || Flags 6 (mapper, mirroring)
|-
| $07 || 1 || Flags 7 (mapper high bits)
|-
| $08-0f || 8 || Padding/unused
|}

==Bank Layout==
Dragon Warrior II uses mapper 4 (MMC3) with 8KB PRG banks.

{| class="wikitable"
! Bank !! File Offset !! CPU Address !! Description
|-
| 00 || $00010-$03fff || $8000-$9fff || Game engine, main loop
|-
| 01 || $04000-$05fff || $a000-$bfff || Battle system
|-
| 02 || $06000-$07fff || Swappable || Field/overworld code
|-
| 03 || $08000-$09fff || Swappable || Menu system
|-
| 04 || $0a000-$0bfff || Swappable || NPC dialogue routines
|-
| 05 || $0c000-$0dfff || Swappable || Item/spell effects
|-
| 06 || $0e000-$0ffff || Swappable || Map data (part 1)
|-
| 07 || $10000-$11fff || Swappable || Map data (part 2)
|-
| 08 || $12000-$13fff || Swappable || Map data (part 3)
|-
| 09 || $14000-$15fff || Swappable || Monster data/AI
|-
| 10 || $16000-$17fff || Swappable || Text strings (part 1)
|-
| 11 || $18000-$19fff || Swappable || Text strings (part 2)
|-
| 12 || $1a000-$1bfff || Swappable || Text strings (part 3)
|-
| 13 || $1c000-$1dfff || Swappable || Music data
|-
| 14 || $1e000-$1ffff || $c000-$dfff || Fixed bank (always loaded)
|-
| 15 || $20000-$21fff || $e000-$ffff || Fixed bank (interrupt vectors)
|}

==Text Data==
Text uses a custom encoding. See [[Dragon Warrior 2 (NES):TBL|TBL file]] for character mappings.

{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $18010 || $19fff || ~8KB || Main dialogue text bank 1
|-
| $1a010 || $1bfff || ~8KB || Main dialogue text bank 2
|-
| $1c010 || $1dfff || ~8KB || Main dialogue text bank 3
|-
| $06200 || $063ff || $200 || Item names
|-
| $06400 || $065ff || $200 || Spell names
|-
| $06600 || $067ff || $200 || Monster names
|-
| $06800 || $068ff || $100 || Location names
|}

==Character Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $07000 || $070ff || $100 || Hero base stats
|-
| $07100 || $071ff || $100 || Prince of Cannock stats
|-
| $07200 || $072ff || $100 || Princess of Moonbrooke stats
|-
| $07300 || $073ff || $100 || Experience tables
|-
| $07400 || $074ff || $100 || Level-up stat gains
|-
| $07500 || $075ff || $100 || Spell learning levels
|}

==Monster Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $14010 || $14fff || ~4KB || Monster stat table
|-
| $15000 || $15fff || ~4KB || Monster AI patterns
|-
| $09000 || $09fff || ~4KB || Encounter groups
|-
| $09200 || $092ff || $100 || Drop tables
|}

'''Monster Stat Structure''' (16 bytes per monster):
{| class="wikitable"
! Offset !! Size !! Description
|-
| +$00 || 1 || HP (low)
|-
| +$01 || 1 || HP (high)
|-
| +$02 || 1 || Strength
|-
| +$03 || 1 || Agility
|-
| +$04 || 1 || Defense
|-
| +$05 || 1 || Experience (low)
|-
| +$06 || 1 || Experience (high)
|-
| +$07 || 1 || Gold (low)
|-
| +$08 || 1 || Gold (high)
|-
| +$09 || 1 || Attack pattern
|-
| +$0a || 1 || Spell resistance
|-
| +$0b || 1 || Dodge rate
|-
| +$0c || 2 || Drop item
|-
| +$0e || 2 || Unused/padding
|}

==Item Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $05000 || $050ff || $100 || Weapon stats
|-
| $05100 || $051ff || $100 || Armor stats
|-
| $05200 || $052ff || $100 || Shield stats
|-
| $05300 || $053ff || $100 || Helmet stats
|-
| $05400 || $054ff || $100 || Consumable item effects
|-
| $05500 || $055ff || $100 || Key item flags
|}

==Spell Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $05600 || $056ff || $100 || Spell effects
|-
| $05700 || $057ff || $100 || Spell MP costs
|-
| $05800 || $058ff || $100 || Spell target types
|-
| $05900 || $059ff || $100 || Spell animation data
|}

==Map Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $0e010 || $0ffff || ~8KB || Overworld map (compressed)
|-
| $10010 || $11fff || ~8KB || Town maps (compressed)
|-
| $12010 || $13fff || ~8KB || Dungeon maps (compressed)
|-
| $08000 || $080ff || $100 || Map connection data
|-
| $08100 || $081ff || $100 || Warp point table
|-
| $08200 || $082ff || $100 || Door data
|-
| $08300 || $083ff || $100 || Treasure chest data
|}

==Graphics Data==
===CHR ROM Layout===
{| class="wikitable"
! Bank !! Offset !! Description
|-
| 0-7 || $00000-$0ffff || Field/overworld tiles
|-
| 8-15 || $10000-$1ffff || Character sprites
|-
| 16-23 || $20000-$2ffff || Monster sprites (part 1)
|-
| 24-31 || $30000-$3ffff || Monster sprites (part 2)
|}

==Audio Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $1c010 || $1dfff || ~8KB || Music sequence data
|-
| $04800 || $048ff || $100 || Sound effect pointers
|-
| $04900 || $049ff || $100 || Music track pointers
|}

==Shop Data==
{| class="wikitable sortable"
! Offset !! End !! Size !! Description
|-
| $05a00 || $05aff || $100 || Weapon shop inventories
|-
| $05b00 || $05bff || $100 || Armor shop inventories
|-
| $05c00 || $05cff || $100 || Item shop inventories
|-
| $05d00 || $05dff || $100 || Shop prices (overrides)
|}

==See Also==
* [[Dragon Warrior 2 (NES):RAM map|RAM Map]]
* [[Dragon Warrior 2 (NES):TBL|Text Table]]
* [[Dragon Warrior 2 (NES):Values|Data Values]]
* [[Dragon Warrior 2 (NES):Known Dumps|Known ROM Dumps]]

[[Category:Dragon Warrior 2 (NES)|ROM map]]
