{{DISPLAYTITLE:Soul Blazer:ROM map}}
This is the '''ROM map''' for '''[[Soul Blazer]]''' (SNES).

==Overview==
Soul Blazer uses '''LoROM''' mapping. The ROM is 1MB (32 banks × 32KB).

===Address Conversion===
<pre>
File Offset = (Bank × $8000) + (Address & $7FFF)
CPU Address = (Bank << 16) | $8000 | (File Offset & $7FFF)
</pre>

==Interrupt Vectors==
===Native Mode ($7FE0)===
{| class="wikitable"
! Vector !! Address !! Description
|-
| COP || $D61E || Coprocessor interrupt
|-
| BRK || $D5FC || Software break
|-
| ABORT || $0000 || Abort (unused)
|-
| NMI || $8342 || Non-maskable interrupt (VBlank)
|-
| RESET || $0000 || Reset (native, unused)
|-
| IRQ || $85A5 || Hardware interrupt
|}

===Emulation Mode ($7FF0)===
{| class="wikitable"
! Vector !! Address !! Description
|-
| COP || $0000 || Unused
|-
| ABORT || $0000 || Unused
|-
| NMI || $0015 || VBlank (emulation)
|-
| RESET || $8000 || Reset entry point
|-
| IRQ || $D011 || Hardware interrupt
|}

==Bank Layout==
{| class="wikitable sortable"
! Bank !! File Offset !! End !! Size !! Description
|-
| $00 || $000000 || $007FFF || 32KB || Main program code
|-
| $01 || $008000 || $00FFFF || 32KB || Game logic
|-
| $02 || $010000 || $017FFF || 32KB || Text/dialogue
|-
| $03 || $018000 || $01FFFF || 32KB || Text/dialogue
|-
| $04 || $020000 || $027FFF || 32KB || Text/dialogue
|-
| $05 || $028000 || $02FFFF || 32KB || Game data
|-
| $06 || $030000 || $037FFF || 32KB || Enemy data
|-
| $07 || $038000 || $03FFFF || 32KB || Item/equipment
|-
| $08 || $040000 || $047FFF || 32KB || Map data
|-
| $09 || $048000 || $04FFFF || 32KB || Map data
|-
| $0A || $050000 || $057FFF || 32KB || Map data
|-
| $0B || $058000 || $05FFFF || 32KB || Level data
|-
| $0C || $060000 || $067FFF || 32KB || Level data
|-
| $0D || $068000 || $06FFFF || 32KB || Graphics
|-
| $0E || $070000 || $077FFF || 32KB || Graphics
|-
| $0F || $078000 || $07FFFF || 32KB || Audio/SPC
|-
| $10-$1F || $080000 || $0FFFFF || 512KB || Graphics/sprites
|}

==Key Routines==
{| class="wikitable"
! Address !! Name !! Description
|-
| $00:8000 || Reset || Entry point after power-on/reset
|-
| $00:8342 || NMI_Handler || VBlank interrupt handler
|-
| $00:85A5 || IRQ_Handler || Hardware interrupt handler
|-
| $02:B9AC || InitHardware || Initialize SNES hardware registers
|-
| $02:BA80 || InitRAM || Clear and initialize RAM
|-
| $02:B856 || WaitVBlank || Wait for VBlank period
|-
| $02:B8A2 || EnableNMI || Enable NMI and set display
|-
| $02:B8B8 || DisableNMI || Disable NMI and blank screen
|-
| $04:8000 || GameLoop_Main || Main game loop entry
|-
| $04:8100 || GameLoop_Update || Update game state
|-
| $04:8200 || GameLoop_Render || Render current frame
|-
| $04:8500 || UpdatePlayer || Process player logic
|-
| $04:8800 || ReadJoypad || Read controller input
|-
| $04:8900 || ProcessInput || Process player input
|-
| $04:8C00 || UpdateSprites || Update OAM buffer
|-
| $04:8E00 || InitSprites || Initialize sprite system
|-
| $04:9000 || InitGraphics || Initialize PPU graphics
|-
| $04:9200 || LoadGraphics || Load tileset to VRAM
|-
| $04:9400 || UpdatePalette || Update color palette
|-
| $04:B000 || LoadMap || Load map data
|-
| $04:B200 || UpdateMap || Update map scrolling
|-
| $04:B400 || UpdateCamera || Update camera position
|-
| $04:C000 || UpdateEntities || Update all entities
|-
| $04:C200 || UpdateNPCs || Update NPC logic
|-
| $04:C400 || UpdateCollision || Check collisions
|-
| $04:E000 || ProcessEvents || Process game events
|-
| $04:E800 || UpdateAudio || Update sound/music
|}

==Data Locations==
{| class="wikitable sortable"
! File Offset !! Bank:Address !! Size !! Description
|-
| $004EFA || $00:CEFA || ~4KB || Opening dialogue
|-
| $0053C7 || $00:D3C7 || ~2KB || Ending dialogue
|-
| $010000 || $02:8000 || ~96KB || Main text data
|-
| $030000 || $06:8000 || 32KB || Enemy statistics
|-
| $038000 || $07:8000 || 32KB || Item/equipment data
|-
| $040000 || $08:8000 || 96KB || Map/tilemap data
|-
| $060000 || $0C:8000 || 64KB || Level/dungeon data
|-
| $078000 || $0F:8000 || 32KB || Audio driver and SPC data
|-
| $080000 || $10:8000 || 512KB || Graphics and sprite data
|}

==Pointer Tables==
The ROM contains numerous pointer tables for maps, text, and data.
Analysis has identified '''808 pointer tables''' throughout the ROM.

{| class="wikitable"
! Region !! Count !! Description
|-
| Bank $00 || ~200 || Core engine pointers
|-
| Bank $02-$04 || ~150 || Text and dialogue pointers
|-
| Bank $06-$07 || ~100 || Enemy/item data pointers
|-
| Bank $08-$0C || ~300 || Map and level pointers
|-
| Bank $10-$1F || ~58 || Graphics pointers
|}

==Soul Lairs==
Soul Lairs are the enemy spawn points that release souls when cleared.
Scan identified '''7,844 potential Soul Lair structures'''.

===Soul Lair Structure (8 bytes)===
{| class="wikitable"
! Offset !! Size !! Description
|-
| $00 || 1 || Area ID
|-
| $01 || 1 || Enemy type
|-
| $02 || 1 || Enemy count
|-
| $03 || 1 || Release type (NPC, item, etc.)
|-
| $04 || 2 || X position
|-
| $06 || 2 || Y position
|}

==See Also==
* [[Soul Blazer:RAM map|RAM Map]]
* [[Soul Blazer:Data tables|Data Tables]]
* [[Soul Blazer:Enemies|Enemy Data]]

[[Category:Soul Blazer]]
[[Category:ROM maps]]
