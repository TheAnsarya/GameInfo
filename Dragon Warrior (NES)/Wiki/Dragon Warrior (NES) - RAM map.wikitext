{{rammap}}

=Dragon Warrior (NES) RAM Map=

This RAM map documents all memory locations used by Dragon Warrior, based on the complete disassembly by TheAnsarya from the Dragon Warrior Info Project.

==Zero Page ($00-$FF)==

===General Purpose Variables ($00-$01)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $00  ||  1 byte  ||  GenByte00 / EnemyDamage / PlayerDamage  ||  Multi-purpose: damage calculations, experience/gold gains, treasure amounts
|-
|  $01  ||  1 byte  ||  GenByte01 / FightExperienceUB / FightGoldUB  ||  Multi-purpose: upper bytes for 16-bit values
|}

===NMI and PPU Control ($02-$10)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $02  ||  1 byte  ||  NMIStatus  ||  $00 = in NMI (VBlank)
|-
|  $03  ||  1 byte  ||  PPUEntryCount  ||  Number of entries to load from PPU buffer
|-
|  $04  ||  1 byte  ||  PPUBufCount  ||  Number of bytes to load from PPU buffer
|-
|  $05  ||  1 byte  ||  ScrollX  ||  PPU scroll X position
|-
|  $06  ||  1 byte  ||  ActiveNameTable  ||  $00 = nametable 0, $01 = nametable 1
|-
|  $07  ||  1 byte  ||  ScrollY  ||  PPU scroll Y position
|-
|  $08  ||  1 byte  ||  PPUDataByte  ||  Data byte to store in PPU
|-
|  $09  ||  1 byte  ||  IsEnemyMirrored  ||  $80 = enemy sprites mirrored, $00 = not mirrored
|-
|  $0A-$0B  ||  2 bytes  ||  PPUBufferPointer  ||  Pointer to RAM buffer for PPU image (little-endian)
|-
|  $0C-$0D  ||  2 bytes  ||  PalettePointer  ||  Pointer to PPU palette data (little-endian)
|-
|  $0F  ||  1 byte  ||  XPosFromCenter / ShakeX  ||  Tile X from center (signed) / Screen shake X offset
|-
|  $10  ||  1 byte  ||  YPosFromCenter / ShakeY  ||  Tile Y from center (signed) / Screen shake Y offset
|}

===Map and World Data ($11-$19)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $11-$12  ||  2 bytes  ||  MapDataPointer  ||  Pointer to base address of current map data
|-
|  $13  ||  1 byte  ||  MapWidth  ||  Width of current map in blocks
|-
|  $14  ||  1 byte  ||  MapHeight  ||  Height of current map in blocks
|-
|  $15  ||  1 byte  ||  BoundryBlock  ||  Block ID for blocks beyond map boundaries
|-
|  $16  ||  1 byte  ||  MapType  ||  $00 = overworld, $10 = town/castle, $20 = cave
|-
|  $17-$18  ||  2 bytes  ||  CoverDataPointer  ||  Pointer to map covered area data
|-
|  $19  ||  1 byte  ||  CoverStatus  ||  $00 = not covered, $08 = under cover
|}

===Text and Dialog System ($1A-$21)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $1A  ||  1 byte  ||  ThisTempIndex / TextEntry / DescriptionEntry  ||  Multi-purpose: temp index, text entry (0-15), item description
|-
|  $1B  ||  1 byte  ||  TextBlock / _ColumnsRemaining  ||  Text block number (0-18) / columns remaining
|-
|  $1C  ||  1 byte  ||  ColumnsRemaining  ||  Characters remaining in current row
|-
|  $1A  ||  1 byte  ||  TextRowNumber / RowsRemaining  ||  Target row in dialog / rows remaining
|-
|  $1B  ||  1 byte  ||  TextRowStart  ||  Offset into target row (column)
|-
|  $1D  ||  1 byte  ||  BCDResult  ||  1-byte result of BCD conversion
|}

===Window System ($1E-$21)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $1E-$1F  ||  2 bytes  ||  WindowColumn  ||  Number of columns in window (little-endian)
|-
|  $20  ||  1 byte  ||  _WindowColumn  ||  Working copy of current window column
|-
|  $21  ||  1 byte  ||  _WindowRow  ||  Working copy of current window row
|}

===Pointers and Buffers ($22-$29)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $22-$23  ||  2 bytes  ||  GameDataPointer / PlayerDataPointer  ||  Pointer for loading/saving game/player data
|-
|  $22  ||  1 byte  ||  WindowLineBufferIndex / NPCXCheck  ||  Multi-purpose: buffer index / NPC X check position
|-
|  $23  ||  1 byte  ||  AttributeBufferIndex / NPCYCheck / WindowTypeCopy  ||  Multi-purpose: attribute buffer / NPC Y / window type
|-
|  $24  ||  1 byte  ||  NPCCounter  ||  Counter for NPC sprite direction
|-
|  $25  ||  1 byte  ||  NPCOffset / NPCNewFace  ||  NPC position data offset / new facing direction
|-
|  $26  ||  1 byte  ||  NPCNumber  ||  Current NPC being processed
|-
|  $27  ||  1 byte  ||  NPCSpriteCounter  ||  Counter for loading NPC sprite data
|-
|  $28  ||  1 byte  ||  NPCSpriteRAMIndex  ||  Index into sprite RAM for current NPC
|}

===Bank Switching and IRQ ($30-$39)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $30  ||  1 byte  ||  JMPFuncPointer / NewPRGBank  ||  JMP opcode for IRQ / PRG bank to switch to
|-
|  $30-$31  ||  2 bytes  ||  BankDataPointer  ||  Bank data pointer (little-endian)
|-
|  $31  ||  1 byte  ||  BankPointerIndex  ||  Index into BankPointers table
|-
|  $33-$34  ||  2 bytes  ||  _BankFunctionDataPointer  ||  Bank function data pointer
|-
|  $35-$36  ||  2 bytes  ||  NMIPointer  ||  Check if MMC accessed during NMI
|-
|  $37  ||  1 byte  ||  IRQStoreA  ||  Temporary storage for A in IRQ routine
|-
|  $38  ||  1 byte  ||  IRQStoreX  ||  Temporary storage for X in IRQ routine
|-
|  $39  ||  1 byte  ||  IRQStoreY  ||  Temporary storage for Y in IRQ routine
|}

===Player Position ($3A-$3B)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $3A  ||  1 byte  ||  CharXPos  ||  Player's X position on current map (in blocks)
|-
|  $3B  ||  1 byte  ||  CharYPos  ||  Player's Y position on current map (in blocks)
|}

===Calculations and Working Variables ($3C-$FF)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $3C  ||  1 byte  ||  BufferByteCounter / _EnNumber / CalcDamage / PlayerTempStat  ||  Multi-purpose: buffer counter, enemy number, damage calc, temp stat
|-
|  $3C-$3D  ||  2 bytes  ||  GeneralPointer3C / GenWord3C  ||  General purpose pointer/word
|-
|  $3E-$3F  ||  2 bytes  ||  GeneralPointer3E / GenWord3E  ||  General purpose pointer/word
|-
|  $42-$43  ||  2 bytes  ||  GeneralPointer42 / GenWord42  ||  General purpose pointer/word
|}

==Main RAM ($0200-$07FF)==

===Sprite RAM ($0200-$02FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0200-$02FF  ||  256 bytes  ||  OAM (Object Attribute Memory) for sprites. 64 sprites Ã— 4 bytes each (Y pos, tile, attributes, X pos)
|}

===Player Stats and Game State ($0300-$03FF)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0300-$030F  ||  16 bytes  ||  PlayerName  ||  Player character name (8 characters max, space-padded)
|-
|  $0310  ||  1 byte  ||  PlayerLevel  ||  Current player level (1-30)
|-
|  $0311-$0312  ||  2 bytes  ||  PlayerHP  ||  Current HP (little-endian, max 255)
|-
|  $0313-$0314  ||  2 bytes  ||  PlayerMaxHP  ||  Maximum HP (little-endian)
|-
|  $0315-$0316  ||  2 bytes  ||  PlayerMP  ||  Current MP (little-endian, max 255)
|-
|  $0317-$0318  ||  2 bytes  ||  PlayerMaxMP  ||  Maximum MP (little-endian)
|-
|  $0319  ||  1 byte  ||  PlayerSTR  ||  Strength stat (base, before equipment)
|-
|  $031A  ||  1 byte  ||  PlayerAGI  ||  Agility stat (base, before equipment)
|-
|  $031B-$031C  ||  2 bytes  ||  PlayerEXP  ||  Current experience points (little-endian, max 65535)
|-
|  $031D-$031E  ||  2 bytes  ||  PlayerGold  ||  Current gold amount (little-endian, max 65535)
|-
|  $031F  ||  1 byte  ||  PlayerWeapon  ||  Equipped weapon ID
|-
|  $0320  ||  1 byte  ||  PlayerArmor  ||  Equipped armor ID
|-
|  $0321  ||  1 byte  ||  PlayerShield  ||  Equipped shield ID
|-
|  $0322  ||  1 byte  ||  PlayerATK  ||  Total attack power (base + equipment)
|-
|  $0323  ||  1 byte  ||  PlayerDEF  ||  Total defense power (base + equipment)
|-
|  $0324-$032B  ||  8 bytes  ||  PlayerInventory  ||  8 inventory slots (item IDs, $FF = empty)
|-
|  $032C-$033B  ||  16 bytes  ||  PlayerFlags  ||  Game progress flags (quest items, story events)
|-
|  $033C-$034B  ||  16 bytes  ||  PlayerSpells  ||  Known spells bitmask
|}

===Enemy Stats (Battle) ($0350-$0370)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0350  ||  1 byte  ||  EnemyID  ||  Current enemy ID (0-39)
|-
|  $0351-$0352  ||  2 bytes  ||  EnemyHP  ||  Current enemy HP (little-endian)
|-
|  $0353-$0354  ||  2 bytes  ||  EnemyMaxHP  ||  Maximum enemy HP (little-endian)
|-
|  $0355  ||  1 byte  ||  EnemySTR  ||  Enemy strength/attack power
|-
|  $0356  ||  1 byte  ||  EnemyAGI  ||  Enemy agility
|-
|  $0357  ||  1 byte  ||  EnemyDEF  ||  Enemy defense power
|-
|  $0358-$0359  ||  2 bytes  ||  EnemyEXP  ||  Experience reward (little-endian)
|-
|  $035A-$035B  ||  2 bytes  ||  EnemyGold  ||  Gold reward (little-endian)
|-
|  $035C  ||  1 byte  ||  EnemyAbilities  ||  Special abilities flags
|-
|  $035D  ||  1 byte  ||  EnemyResistances  ||  Resistance flags
|-
|  $035E  ||  1 byte  ||  EnemyStatus  ||  Status effects (sleep, stopspell, etc.)
|}

===Battle State ($0370-$0380)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0370  ||  1 byte  ||  BattleActive  ||  $00 = no battle, $01 = battle active
|-
|  $0371  ||  1 byte  ||  PlayerTurn  ||  $00 = enemy turn, $01 = player turn
|-
|  $0372  ||  1 byte  ||  PlayerStatus  ||  Status effects (sleep, stopspell, etc.)
|-
|  $0373  ||  1 byte  ||  TurnCount  ||  Number of turns in current battle
|-
|  $0374  ||  1 byte  ||  FleeAttempts  ||  Number of flee attempts this battle
|}

===Sound and Music ($0400-$04FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0400-$04FF  ||  256 bytes  ||  Music and sound effect state, channel data, note counters, tempo
|}

===PPU Buffer ($0500-$05FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0500-$05FF  ||  256 bytes  ||  PPU update buffer. Stores tiles/attributes to write to PPU during VBlank
|}

===Text Buffer ($0600-$06FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0600-$067F  ||  128 bytes  ||  Decompressed dialog text buffer
|-
|  $0680-$06FF  ||  128 bytes  ||  Window line buffer for text rendering
|}

===NPC and Map Data ($0700-$07FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0700-$073F  ||  64 bytes  ||  NPC position data (X, Y, facing direction, sprite ID)
|-
|  $0740-$077F  ||  64 bytes  ||  NPC behavior flags and dialog pointers
|-
|  $0780-$07BF  ||  64 bytes  ||  Tile attribute buffer
|-
|  $07C0-$07FF  ||  64 bytes  ||  General temporary storage
|}

==Hardware Registers==

===PPU Registers ($2000-$2007)===

{| class="wikitable"
!  Address  !!  Name  !!  Description
|-
|  $2000  ||  PPUCTRL  ||  PPU control register
|-
|  $2001  ||  PPUMASK  ||  PPU mask register (rendering control)
|-
|  $2002  ||  PPUSTATUS  ||  PPU status register (read-only)
|-
|  $2003  ||  OAMADDR  ||  OAM address register
|-
|  $2004  ||  OAMDATA  ||  OAM data register
|-
|  $2005  ||  PPUSCROLL  ||  PPU scroll register (write twice: X, Y)
|-
|  $2006  ||  PPUADDR  ||  PPU address register (write twice: high, low)
|-
|  $2007  ||  PPUDATA  ||  PPU data register
|}

===APU and I/O Registers ($4000-$4017)===

{| class="wikitable"
!  Address  !!  Name  !!  Description
|-
|  $4000-$4003  ||  APU_PULSE1  ||  Pulse wave 1 channel
|-
|  $4004-$4007  ||  APU_PULSE2  ||  Pulse wave 2 channel
|-
|  $4008-$400B  ||  APU_TRIANGLE  ||  Triangle wave channel
|-
|  $400C-$400F  ||  APU_NOISE  ||  Noise channel
|-
|  $4010-$4013  ||  APU_DMC  ||  Delta modulation channel
|-
|  $4014  ||  OAMDMA  ||  OAM DMA register (sprite upload)
|-
|  $4015  ||  APU_STATUS  ||  APU status and enable
|-
|  $4016  ||  JOY1  ||  Controller 1 data
|-
|  $4017  ||  JOY2 / APU_FRAME  ||  Controller 2 / APU frame counter
|}

===MMC1 Mapper Registers ($8000-$FFFF writes)===

{| class="wikitable"
!  Address Range  !!  Register  !!  Description
|-
|  $8000-$9FFF  ||  Control  ||  Mirroring, PRG/CHR bank modes
|-
|  $A000-$BFFF  ||  CHR Bank 0  ||  CHR ROM bank selection (low 4KB)
|-
|  $C000-$DFFF  ||  CHR Bank 1  ||  CHR ROM bank selection (high 4KB)
|-
|  $E000-$FFFF  ||  PRG Bank  ||  PRG ROM bank selection
|}

==SRAM ($6000-$7FFF)==

Save game data stored in battery-backed SRAM. See [[Dragon Warrior (NES) - SRAM map|SRAM Map]] for detailed save structure.

=Related=

* [[Dragon Warrior (NES) - ROM map|ROM Map]]
* [[Dragon Warrior (NES) - SRAM map|SRAM Map]]
* [[Dragon Warrior (NES) - Values|Game Values and Constants]]

{{Internal Data}}
