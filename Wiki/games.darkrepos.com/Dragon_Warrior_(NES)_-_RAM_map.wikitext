{{rammap}}

=Dragon Warrior (NES) RAM Map=

This RAM map documents all memory locations used by Dragon Warrior, based on the complete disassembly by TheAnsarya from the Dragon Warrior Info Project.

==Zero Page ($00-$FF)==

===General Purpose Variables ($00-$01)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $00  ||  1 byte  ||  GenByte00 / EnemyDamage / PlayerDamage  ||  Multi-purpose: damage calculations, experience/gold gains, treasure amounts
|-
|  $01  ||  1 byte  ||  GenByte01 / FightExperienceUB / FightGoldUB  ||  Multi-purpose: upper bytes for 16-bit values
|}

===NMI and PPU Control ($02-$10)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $02  ||  1 byte  ||  NMIStatus  ||  $00 = in NMI (VBlank)
|-
|  $03  ||  1 byte  ||  PPUEntryCount  ||  Number of entries to load from PPU buffer
|-
|  $04  ||  1 byte  ||  PPUBufCount  ||  Number of bytes to load from PPU buffer
|-
|  $05  ||  1 byte  ||  ScrollX  ||  PPU scroll X position
|-
|  $06  ||  1 byte  ||  ActiveNameTable  ||  $00 = nametable 0, $01 = nametable 1
|-
|  $07  ||  1 byte  ||  ScrollY  ||  PPU scroll Y position
|-
|  $08  ||  1 byte  ||  PPUDataByte  ||  Data byte to store in PPU
|-
|  $09  ||  1 byte  ||  IsEnemyMirrored  ||  $80 = enemy sprites mirrored, $00 = not mirrored
|-
|  $0A-$0B  ||  2 bytes  ||  PPUBufferPointer  ||  Pointer to RAM buffer for PPU image (little-endian)
|-
|  $0C-$0D  ||  2 bytes  ||  PalettePointer  ||  Pointer to PPU palette data (little-endian)
|-
|  $0F  ||  1 byte  ||  XPosFromCenter / ShakeX  ||  Tile X from center (signed) / Screen shake X offset
|-
|  $10  ||  1 byte  ||  YPosFromCenter / ShakeY  ||  Tile Y from center (signed) / Screen shake Y offset
|}

===Map and World Data ($11-$19)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $11-$12  ||  2 bytes  ||  MapDataPointer  ||  Pointer to base address of current map data
|-
|  $13  ||  1 byte  ||  MapWidth  ||  Width of current map in blocks
|-
|  $14  ||  1 byte  ||  MapHeight  ||  Height of current map in blocks
|-
|  $15  ||  1 byte  ||  BoundryBlock  ||  Block ID for blocks beyond map boundaries
|-
|  $16  ||  1 byte  ||  MapType  ||  $00 = overworld, $10 = town/castle, $20 = cave
|-
|  $17-$18  ||  2 bytes  ||  CoverDataPointer  ||  Pointer to map covered area data
|-
|  $19  ||  1 byte  ||  CoverStatus  ||  $00 = not covered, $08 = under cover
|}

===Player Position ($3A-$3B)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $3A  ||  1 byte  ||  CharXPos  ||  Player's X position on current map (in blocks)
|-
|  $3B  ||  1 byte  ||  CharYPos  ||  Player's Y position on current map (in blocks)
|}

==Main RAM ($0200-$07FF)==

===Sprite RAM ($0200-$02FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0200-$02FF  ||  256 bytes  ||  OAM (Object Attribute Memory) for sprites. 64 sprites Ã— 4 bytes each (Y pos, tile, attributes, X pos)
|}

===Player Stats ($0300-$034B)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0300-$030F  ||  16 bytes  ||  PlayerName  ||  Player character name (8 characters max, space-padded)
|-
|  $0310  ||  1 byte  ||  PlayerLevel  ||  Current player level (1-30)
|-
|  $0311-$0312  ||  2 bytes  ||  PlayerHP  ||  Current HP (little-endian, max 255)
|-
|  $0313-$0314  ||  2 bytes  ||  PlayerMaxHP  ||  Maximum HP (little-endian)
|-
|  $0315-$0316  ||  2 bytes  ||  PlayerMP  ||  Current MP (little-endian, max 255)
|-
|  $0317-$0318  ||  2 bytes  ||  PlayerMaxMP  ||  Maximum MP (little-endian)
|-
|  $0319  ||  1 byte  ||  PlayerSTR  ||  Strength stat (base, before equipment)
|-
|  $031A  ||  1 byte  ||  PlayerAGI  ||  Agility stat (base, before equipment)
|-
|  $031B-$031C  ||  2 bytes  ||  PlayerEXP  ||  Current experience points (little-endian, max 65535)
|-
|  $031D-$031E  ||  2 bytes  ||  PlayerGold  ||  Current gold amount (little-endian, max 65535)
|-
|  $031F  ||  1 byte  ||  PlayerWeapon  ||  Equipped weapon ID
|-
|  $0320  ||  1 byte  ||  PlayerArmor  ||  Equipped armor ID
|-
|  $0321  ||  1 byte  ||  PlayerShield  ||  Equipped shield ID
|-
|  $0322  ||  1 byte  ||  PlayerATK  ||  Total attack power (base + equipment)
|-
|  $0323  ||  1 byte  ||  PlayerDEF  ||  Total defense power (base + equipment)
|-
|  $0324-$032B  ||  8 bytes  ||  PlayerInventory  ||  8 inventory slots (item IDs, $FF = empty)
|-
|  $032C-$033B  ||  16 bytes  ||  PlayerFlags  ||  Game progress flags (quest items, story events)
|-
|  $033C-$034B  ||  16 bytes  ||  PlayerSpells  ||  Known spells bitmask
|}

===Enemy Stats (Battle) ($0350-$035E)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0350  ||  1 byte  ||  EnemyID  ||  Current enemy ID (0-39)
|-
|  $0351-$0352  ||  2 bytes  ||  EnemyHP  ||  Current enemy HP (little-endian)
|-
|  $0353-$0354  ||  2 bytes  ||  EnemyMaxHP  ||  Maximum enemy HP (little-endian)
|-
|  $0355  ||  1 byte  ||  EnemySTR  ||  Enemy strength/attack power
|-
|  $0356  ||  1 byte  ||  EnemyAGI  ||  Enemy agility
|-
|  $0357  ||  1 byte  ||  EnemyDEF  ||  Enemy defense power
|-
|  $0358-$0359  ||  2 bytes  ||  EnemyEXP  ||  Experience reward (little-endian)
|-
|  $035A-$035B  ||  2 bytes  ||  EnemyGold  ||  Gold reward (little-endian)
|-
|  $035C  ||  1 byte  ||  EnemyAbilities  ||  Special abilities flags
|-
|  $035D  ||  1 byte  ||  EnemyResistances  ||  Resistance flags
|-
|  $035E  ||  1 byte  ||  EnemyStatus  ||  Status effects (sleep, stopspell, etc.)
|}

===Battle State ($0370-$0374)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Name  !!  Description
|-
|  $0370  ||  1 byte  ||  BattleActive  ||  $00 = no battle, $01 = battle active
|-
|  $0371  ||  1 byte  ||  PlayerTurn  ||  $00 = enemy turn, $01 = player turn
|-
|  $0372  ||  1 byte  ||  PlayerStatus  ||  Status effects (sleep, stopspell, etc.)
|-
|  $0373  ||  1 byte  ||  TurnCount  ||  Number of turns in current battle
|-
|  $0374  ||  1 byte  ||  FleeAttempts  ||  Number of flee attempts this battle
|}

===Sound and Music ($0400-$04FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0400-$04FF  ||  256 bytes  ||  Music and sound effect state, channel data, note counters, tempo
|}

===PPU Buffer ($0500-$05FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0500-$05FF  ||  256 bytes  ||  PPU update buffer. Stores tiles/attributes to write to PPU during VBlank
|}

===Text Buffer ($0600-$06FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0600-$067F  ||  128 bytes  ||  Decompressed dialog text buffer
|-
|  $0680-$06FF  ||  128 bytes  ||  Window line buffer for text rendering
|}

===NPC and Map Data ($0700-$07FF)===

{| class="wikitable"
!  Address  !!  Size  !!  Description
|-
|  $0700-$073F  ||  64 bytes  ||  NPC position data (X, Y, facing direction, sprite ID)
|-
|  $0740-$077F  ||  64 bytes  ||  NPC behavior flags and dialog pointers
|-
|  $0780-$07BF  ||  64 bytes  ||  Tile attribute buffer
|-
|  $07C0-$07FF  ||  64 bytes  ||  General temporary storage
|}

==SRAM ($6000-$7FFF)==

Battery-backed save RAM. See [[Dragon Warrior (NES)/SRAM map|SRAM Map]] for full documentation.

==References==

* Complete disassembly by TheAnsarya: [https://github.com/TheAnsarya/dragon-warrior-info Dragon Warrior Info Project]

[[Category:NES Games]]
[[Category:Dragon Quest Series]]
[[Category:RAM Maps]]
