{{Back|Dragon Warrior (NES)}}
{{rommap}}

= Dragon Warrior (NES) - ROM Map =

This ROM map is based on the complete disassembly by TheAnsarya and documented memory locations from the Dragon Warrior Info Project.

Addresses are NES CPU addresses ($8000-$ffff for PRG ROM, $0000-$1fff for CHR ROM).

== Bank Structure ==

Dragon Warrior uses MMC1 mapper with 4 banks of 16KB PRG ROM:

{| class="wikitable"
!  Bank  !!  CPU Address  !!  File Offset  !!  Description
|-
|  Bank 00  ||  $8000-$bfff  ||  $00010-$04010  ||  Main game code, graphics tables, shop data
|-
|  Bank 01  ||  $8000-$bfff  ||  $04010-$08010  ||  Monster data, music, player stats
|-
|  Bank 02  ||  $8000-$bfff  ||  $08010-$0c010  ||  Text compression, dialog data
|-
|  Bank 03  ||  $c000-$ffff  ||  $0c010-$10010  ||  Fixed bank, core gameplay systems
|}

==PRG ROM Map==

===Bank 00 ($8000-$bfff)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $8000-$801f  ||  32 bytes  ||  Vectors  ||  Bank switching and interrupt vectors
|-
|  $8020-$80ff  ||  224 bytes  ||  Code  ||  Initialization and bank switching routines
|-
|  $8100-$85ff  ||  1280 bytes  ||  Graphics  ||  Overworld map tile definitions
|-
|  $8600-$8aff  ||  1280 bytes  ||  Graphics  ||  Town and dungeon tile definitions
|-
|  $8b00-$8fff  ||  1280 bytes  ||  Graphics  ||  Menu and UI graphics data
|-
|  $9000-$97ff  ||  2048 bytes  ||  Data  ||  NPC position and dialog tables
|-
|  $9800-$98ff  ||  256 bytes  ||  Data  ||  Map entry direction table
|-
|  $9900-$9946  ||  70 bytes  ||  Data  ||  Map entry direction table (continued)
|-
|  $9947-$9990  ||  74 bytes  ||  Data  ||  Item cost table
|-
|  $9991-$99ce  ||  62 bytes  ||  Data  ||  Shop items table
|-
|  $99cf-$99de  ||  16 bytes  ||  Data  ||  Weapon bonus table
|-
|  $99df-$99ee  ||  16 bytes  ||  Data  ||  Armor bonus table
|-
|  $99ef-$99fe  ||  16 bytes  ||  Data  ||  Shield bonus table
|-
|  $9a00-$9aff  ||  256 bytes  ||  Data  ||  Palette and graphics pointers
|-
|  $9b00-$bfff  ||  5376 bytes  ||  Code  ||  Main game logic and subroutines
|}

===Bank 01 ($8000-$bfff)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $8000-$803f  ||  64 bytes  ||  Vectors  ||  Bank 1 function pointers
|-
|  $8040-$81ff  ||  448 bytes  ||  Data  ||  Music note frequency table
|-
|  $8200-$8fff  ||  3584 bytes  ||  Data  ||  Music sequence data
|-
|  $9000-$94ff  ||  1280 bytes  ||  Data  ||  Monster stat tables
|-
|  $9500-$95ff  ||  256 bytes  ||  Data  ||  Experience tables by level
|-
|  $9600-$96ff  ||  256 bytes  ||  Data  ||  Player base stats by level
|-
|  $9700-$97ff  ||  256 bytes  ||  Data  ||  Spell data and MP costs
|-
|  $9800-$9fff  ||  2048 bytes  ||  Code  ||  Battle system and stat calculation
|-
|  $a000-$bfff  ||  8192 bytes  ||  Code  ||  Music player and sound routines
|}

===Bank 02 ($8000-$bfff)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $8000-$8fff  ||  4096 bytes  ||  Data  ||  Compressed text data
|-
|  $9000-$9fff  ||  4096 bytes  ||  Data  ||  Dialog text tables and pointers
|-
|  $a000-$afff  ||  4096 bytes  ||  Code  ||  Text decompression routines
|-
|  $b000-$bfff  ||  4096 bytes  ||  Code  ||  Dialog display and text processing
|}

===Bank 03 ($c000-$ffff) - Fixed Bank===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $c000-$cfff  ||  4096 bytes  ||  Code  ||  Core game loop and input handling
|-
|  $d000-$dfff  ||  4096 bytes  ||  Code  ||  Map rendering and movement
|-
|  $e000-$efff  ||  4096 bytes  ||  Code  ||  Menu systems and inventory
|-
|  $f000-$ffef  ||  4080 bytes  ||  Code  ||  System routines and utilities
|-
|  $fff0-$ffff  ||  16 bytes  ||  Vectors  ||  NMI, Reset, and IRQ vectors
|}

==CHR ROM Map==

===Bank 0 ($0000-$0fff)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $0000-$03ff  ||  1024 bytes  ||  Graphics  ||  Hero sprites and animations
|-
|  $0400-$07ff  ||  1024 bytes  ||  Graphics  ||  Monster sprites (first 64)
|-
|  $0800-$0bff  ||  1024 bytes  ||  Graphics  ||  NPC sprites and objects
|-
|  $0c00-$0fff  ||  1024 bytes  ||  Graphics  ||  UI elements and text font
|}

===Bank 1 ($1000-$1fff)===

{| class="wikitable sortable"
!  Address  !!  Size  !!  Category  !!  Description
|-
|  $1000-$13ff  ||  1024 bytes  ||  Graphics  ||  Monster sprites (continued)
|-
|  $1400-$17ff  ||  1024 bytes  ||  Graphics  ||  Background tiles (overworld)
|-
|  $1800-$1bff  ||  1024 bytes  ||  Graphics  ||  Background tiles (dungeons/towns)
|-
|  $1c00-$1fff  ||  1024 bytes  ||  Graphics  ||  Background tiles (special areas)
|}

==Data Tables==

===Item Cost Table ($9947-$9990)===

74 bytes. Buy and sell prices for all items, weapons, armor, and shields. Each item uses 2 bytes for buy price (little-endian).

{| class="wikitable sortable"
!  Address  !!  Item  !!  Buy Price  !!  Notes
|-
|  $9947-$9948  ||  Herb  ||  24 GP  ||  Restores 23-30 HP
|-
|  $9949-$994a  ||  Magic Key  ||  53 GP  ||  Opens locked doors
|-
|  $994b-$994c  ||  Torch  ||  8 GP  ||  Illuminates dark areas
|-
|  $994d-$994e  ||  Fairy Water  ||  38 GP  ||  Repels weak monsters
|-
|  $994f-$9950  ||  Wings  ||  70 GP  ||  Return to Tantegel
|-
|  $9951-$9952  ||  Dragon's Scale  ||  20 GP  ||  Reduces damage by 1/3
|-
|  $9953-$9954  ||  Cursed Belt  ||  360 GP  ||  Cursed item, -2 AGI
|-
|  $9955-$9956  ||  Death Necklace  ||  2400 GP  ||  Cursed item, causes death
|-
|  $9957-$9958  ||  Bamboo Pole  ||  10 GP  ||  +2 ATK
|-
|  $9959-$995a  ||  Club  ||  60 GP  ||  +4 ATK
|-
|  $995b-$995c  ||  Copper Sword  ||  180 GP  ||  +10 ATK
|-
|  $995d-$995e  ||  Hand Axe  ||  560 GP  ||  +15 ATK
|-
|  $995f-$9960  ||  Broad Sword  ||  1500 GP  ||  +20 ATK
|-
|  $9961-$9962  ||  Flame Sword  ||  9800 GP  ||  +28 ATK
|-
|  $9963-$9964  ||  Clothes  ||  20 GP  ||  +2 DEF
|-
|  $9965-$9966  ||  Leather Armor  ||  70 GP  ||  +4 DEF
|-
|  $9967-$9968  ||  Chain Mail  ||  300 GP  ||  +10 DEF
|-
|  $9969-$996a  ||  Half Plate  ||  1000 GP  ||  +16 DEF
|-
|  $996b-$996c  ||  Full Plate  ||  3000 GP  ||  +24 DEF
|-
|  $996d-$996e  ||  Magic Armor  ||  7700 GP  ||  +24 DEF, regenerates HP
|-
|  $996f-$9970  ||  Small Shield  ||  90 GP  ||  +4 DEF
|-
|  $9971-$9972  ||  Large Shield  ||  800 GP  ||  +10 DEF
|-
|  $9973-$9974  ||  Silver Shield  ||  14800 GP  ||  +20 DEF, blocks breath
|}

===Monster Stats Table ($9000-$94ff)===

1280 bytes. 40 monsters × 16 bytes per entry = 640 bytes used. Each entry:
* +$00-$01: HP (little-endian, 16-bit)
* +$02: Attack Power (8-bit)
* +$03: Defense Power (8-bit)
* +$04-$05: Experience Reward (little-endian, 16-bit)
* +$06-$07: Gold Reward (little-endian, 16-bit)
* +$08: Special Abilities Flags
* +$09: Resistance Flags
* +$0a-$0b: Graphics Tile ID (16-bit)
* +$0c-$0f: Reserved/Padding (4 bytes)

===Experience Requirements Table ($9500-$95ff)===

256 bytes. Total experience required for each level (1-30). Each entry is 2 bytes (little-endian):
* Level 1: 0 EXP
* Level 2: 7 EXP
* Level 10: 2000 EXP
* Level 20: 28000 EXP
* Level 30: 65535 EXP (max)

===Spell Data Table ($9700-$97ff)===

256 bytes. Spell MP costs and effect parameters:

{| class="wikitable"
!  Spell  !!  MP  !!  Effect
|-
|  HEAL  ||  4  ||  Restores 10-17 HP
|-
|  HURT  ||  2  ||  Deals 5-12 damage
|-
|  SLEEP  ||  2  ||  62.5% base chance
|-
|  RADIANT  ||  3  ||  Radius 3 tiles
|-
|  STOPSPELL  ||  2  ||  62.5% base chance
|-
|  OUTSIDE  ||  6  ||  Warp to dungeon exit
|-
|  RETURN  ||  8  ||  Warp to Tantegel
|-
|  REPEL  ||  2  ||  127 steps duration
|-
|  HEALMORE  ||  10  ||  Restores 85-100 HP
|-
|  HURTMORE  ||  5  ||  Deals 58-65 damage
|}

==Key Routines==

===Battle System===

{| class="wikitable"
!  Address  !!  Routine  !!  Description
|-
|  ~$c000  ||  CalcPhysicalDamage  ||  Damage = (ATK/2) - (DEF/4) + Random(0,4)
|-
|  ~$c100  ||  CheckCriticalHit  ||  CritChance = AGI/64, Damage × 2 if crit
|-
|  ~$c200  ||  CheckHit  ||  Player: 87.5% - (EnemyAGI/4), Enemy: 75% - (PlayerAGI/2)
|-
|  ~$c300  ||  CheckDodge  ||  DodgeChance = PlayerAGI/4
|-
|  ~$c700  ||  BattleVictory  ||  Award experience and gold
|}

===Spell Effects===

{| class="wikitable"
!  Address  !!  Routine  !!  Description
|-
|  ~$d000  ||  SpellHEAL  ||  Restore 10-17 HP, 4 MP cost
|-
|  ~$d050  ||  SpellHEALMORE  ||  Restore 85-100 HP, 10 MP cost
|-
|  ~$d100  ||  SpellHURT  ||  Deal 5-12 - (DEF/8) damage, 2 MP
|-
|  ~$d150  ||  SpellHURTMORE  ||  Deal 58-65 - (DEF/4) damage, 5 MP
|-
|  ~$d200  ||  SpellSLEEP  ||  62.5% - (Level×2) success, 2 MP
|-
|  ~$d250  ||  SpellSTOPSPELL  ||  62.5% - (Level×3) success, 2 MP
|}

===Encounter System===

'''Encounter Rate Constants:'''
* Tantegel area: 16/256 (6.25%)
* Grassland: 32/256 (12.5%)
* Forest: 48/256 (18.75%)
* Hills: 64/256 (25%)
* Mountains: 80/256 (31.25%)
* Swamp: 96/256 (37.5%)

==Game Constants==

===Battle System Constants===

* Player ATK Divisor: 2
* Enemy DEF Divisor: 4
* Damage Variance: 0-4
* Crit AGI Divisor: 64
* Crit Multiplier: 2×
* Player Base Hit: 224/256 (87.5%)
* Enemy Base Hit: 192/256 (75%)
* Dodge AGI Divisor: 4

===Technical Limits===

* Max Level: 30
* Max HP/MP/STR/AGI/ATK/DEF: 255 (8-bit)
* Max Gold/EXP: 65535 (16-bit)
* Inventory Slots: 8
* Map Width/Height: 120 tiles (overworld)
* Max Interior: 32×32 tiles

==Memory-Mapped I/O==

{| class="wikitable"
!  Address  !!  Description
|-
|  $2000-$2007  ||  PPU registers (PPUCTRL, PPUMASK, PPUSTATUS, etc.)
|-
|  $4000-$4017  ||  APU and controller registers
|-
|  $4018-$5fff  ||  MMC1 mapper registers (bank switching)
|-
|  $6000-$7fff  ||  Battery-backed SRAM (8KB save data)
|}

==References==

* Complete disassembly by TheAnsarya: [https://github.com/TheAnsarya/dragon-warrior-info Dragon Warrior Info Project]
* NES mapper documentation

[[Category:NES Games]]
[[Category:Dragon Quest Series]]
[[Category:ROM Maps]]
