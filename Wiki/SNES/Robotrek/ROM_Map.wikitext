{{Back|Robotrek (SNES)}}

= Robotrek (SNES) - ROM Map =

This page documents the ROM layout for Robotrek (USA version).

'''Source:''' Partially based on [https://datacrystal.tcrf.net/wiki/Robotrek/ROM_map Data Crystal] with additional verified research.

== ROM Overview ==

{| class="wikitable"
! Property !! Value
|-
| Internal Name || ROBOTREK 1 USA
|-
| ROM Size || 1.5 MB (1,572,864 bytes / $180000)
|-
| Mapper || HiROM + FastROM (120ns)
|-
| SRAM || 8 KB
|-
| Checksum || $6d44
|-
| CRC32 || 7AD4AADC
|-
| Developer || Quintet / Ancient
|-
| Publisher || Enix
|}

== Compression ==

Robotrek uses '''Quintet's standard LZSS compression algorithm''', common to other Quintet games (Soul Blazer, Illusion of Gaia, Terranigma).

== Major Data Regions ==

=== Early Banks ($00000-$3ffff) ===

{| class="wikitable"
! File Offset !! Size !! Description !! Decomp Size
|-
| $00000-$00622 || $623 || Compressed map tileset data || 2048 bytes
|-
| $00623-$00c3e || $61c || Compressed map tileset data || 2048 bytes
|-
| $00c3f-$0124d || $60f || Compressed map tileset data || 2048 bytes
|-
| $0124e-$01844 || $5f7 || Compressed map tileset data || 2048 bytes
|-
| $01845-$01e2e || $5ea || Compressed map tileset data || 2048 bytes
|-
| $01e2f-$023e7 || $5b9 || Compressed map tileset data || 2048 bytes
|-
| $023e8-$0296a || $583 || Compressed map arrangement data || 771 bytes
|-
| $0296b-$02eea || $580 || '''Music - Robots vs. Hackers'''
|-
| $02eeb-$0344a || $560 || '''Music - Count Prinky's Mansion'''
|-
| $0344b-$039a8 || $55e || Compressed map tileset data
|-
| $039a9-$03f03 || $55b || '''Music - Super Robot Battle!'''
|-
| $05879-$05d6c || $4f4 || '''Music - Futuristic World in Peril'''
|-
| $07a69-$07f03 || $49b || '''Music - The World of Quintenix'''
|-
| $0ffc0-$0ffff || $40 || Internal ROM header
|}

=== Bank $10000-$1ffff ===

{| class="wikitable"
! File Offset !! Size !! Description
|-
| $10000-$1046d || $46e || Compressed map arrangement data
|-
| $10d21-$11166 || $446 || '''Music - Hometown in Autumn'''
|-
| $1264e-$12a59 || $40c || '''Music - Music Box of Memories'''
|-
| $15fee-$16390 || $3a3 || '''Music - Deep Underground'''
|}

=== Text & Data Tables (Bank $01) ===

{| class="wikitable"
! File Offset !! Size !! Description
|-
| $01e000-$01e3ff || $400 || Item description text (compressed text format)
|-
| $01e413 || ~$1480 || '''Item names''' (CC-separated, 98 entries) - '''VERIFIED'''
|-
| $01f600-$01f617 || $18 || Pointer table (8 entries, unknown purpose)
|-
| $01f618-$01f746 || $12e || Data block (possibly tile/palette indices)
|-
| $01f748-$01f7f1 || $aa || '''Item name pointer table''' (83 × 2 bytes) - '''VERIFIED'''
|-
| $01f7f2-$01f87b || $8a || More pointer data
|-
| $01f87c-$01f88d || $12 || Unused item name "ABCDEFGHIJKLMNOP"
|-
| $01f88e-$01f8a7 || $1a || Blank/spacer area
|-
| $01f8a9-$01fad6 || $22e || '''Item names (menu)''' (null-terminated, 8-byte aligned) - '''VERIFIED'''
|-
| $01fd00 || ~$bc || Enemy name pointer table - '''VERIFIED'''
|-
| $01fdbe || ~$300 || '''Enemy names''' (null-terminated, 58 entries) - '''VERIFIED'''
|}

=== Sound Samples ($90000-$dffff) ===

{| class="wikitable"
! File Offset !! Description
|-
| $90000-$9002e || Sound sample 00 (16-bit length + BRR data)
|-
| $9002f-$90054 || Sound sample 01
|-
| $90055-$900a7 || Sound sample 02
|-
| $900a8-$901d2 || Sound sample 03
|-
| $901d3-$915de || Sound sample 04 (large)
|-
| $915df-$921e6 || Sound sample 05
|-
| $921e7-$93871 || Sound sample 06 (large)
|-
| ... || (Samples 07-2A continue through $d177b)
|}

=== Palettes ===

SNES palettes are 15-bit RGB (BBBBBGGGGGRRRRR) stored little-endian. Each palette is 32 bytes (16 colors × 2 bytes).

{| class="wikitable"
! File Offset !! Size !! Description !! Notes
|-
| $018845-$018c05 || $3c0 || Palettes (30 entries) || General game palettes
|-
| $05de10-$05e7ff || $9f0 || Robot/object palettes (79 entries) || Robot color customization
|-
| $08fe00-$08ffff || $200 || Palettes (16 entries) || Menu/UI palettes
|-
| $10b9a0-$10ba40 || $c0 || Palette group (6 entries) || Detected via pattern analysis
|-
| $139020-$139080 || $80 || Palette group (4 entries) || Detected via pattern analysis
|-
| $14a0e0-$14a1a0 || $c0 || Palette group (7 entries) || Detected via pattern analysis
|-
| $14b020-$14b0e0 || $c0 || Palette group (7 entries) || Detected via pattern analysis
|}

=== Graphics ($80000-$8ffff) ===

{| class="wikitable"
! File Offset !! Size !! Description
|-
| $80000-$81fff || $2000 || '''Uncompressed font graphics''' (2BPP GameBoy format)
|-
| $82000-$835c4 || $15c5 || Compressed graphics
|-
| $835c5-$84b5b || $1597 || Compressed graphics
|-
| $84b5c-$860ee || $1593 || Compressed graphics
|-
| $860ef-$87630 || $1542 || Compressed graphics
|-
| $87631-$87f3f || $90f || Compressed graphics
|}

=== Map Data ($d8000-$dffff) ===

{| class="wikitable"
! File Offset !! Size !! Description
|-
| $d8000-$d930f || $1310 || Map metadata
|-
| $d9310-$db30f || $2000 || '''Uncompressed inventory/menu graphics'''
|-
| $db310-$dd16f || $1e60 || Compressed graphics
|-
| $dd170-$deb7e || $1a0f || Compressed graphics
|-
| $deb7f-$dff74 || $13f6 || Compressed graphics
|}

=== Music Tracks ===

{| class="wikitable sortable"
! File Offset !! Track Name
|-
| $0296b || Robots vs. Hackers
|-
| $02eeb || Count Prinky's Mansion
|-
| $039a9 || Super Robot Battle!
|-
| $05879 || Futuristic World in Peril
|-
| $07a69 || The World of Quintenix
|-
| $10d21 || Hometown in Autumn
|-
| $1264e || Music Box of Memories
|-
| $15fee || Deep Underground
|-
| $259e3 || Special Item
|-
| $33ccc || (no music)
|-
| $efad5 || Gateau ~ Master of Time
|-
| $f9654 || Quiet Victory
|-
| $11edb7 || Programmers' Computer
|-
| $12c090 || Research and Development
|-
| $12c8c1 || Dangerous Places
|-
| $12d366 || A Long Time Ago...
|-
| $13a6d2 || Beneath the Lava
|-
| $13b7a0 || High in the Sky
|-
| $13d6d7 || Theme of the Hackers
|-
| $13e7c6 || Hackers' Supreme Fortress
|-
| $14848e || Staff Roll
|-
| $14f2ee || Beyond the Stars!
|-
| $17f054 || Tropical Paradise
|}

== Verified Data Tables ==

{| class="wikitable"
! Address !! File Offset !! Size !! Description !! Status
|-
| $c1c200 || $01c200 || $200 || '''Combination recipe table''' (weapon/item combinations) || '''Verified'''
|-
| $c1e413 || $01e413 || ~$2a0 || '''Item names''' (CC-separated, 83 entries) || '''Verified'''
|-
| $c1f748 || $01f748 || $aa || Item name pointer table (83 × 2-byte) || '''Verified'''
|-
| $c1f8a9 || $01f8a9 || ~$22e || Item names (menu, null-terminated, 8-byte) || '''Verified'''
|-
| $c1fcf8 || $01fcf8 || ~$bc || Enemy name pointer table (16-bit, +8 offset) || '''Verified'''
|-
| $c1fdbe || $01fdbe || ~$1a3 || '''Enemy names''' (null-terminated, 56 entries) || '''Verified'''
|-
| $c38000 || $038000 || $180 || Actor/Entity pointer table (128 × 2-byte) || '''Research'''
|-
| $c381a4 || $0381a4 || ~$b40 || Actor/Entity data (22-byte entries) - sprite/animation data || '''Research'''
|}

== Item Names Table ==

Located at file offset '''$01e413'''. Item names are stored as ASCII text separated by byte $CC (204).

{| class="wikitable sortable"
! Index !! Hex !! Address !! Name
|-
| 0 || $00 || $01e413 || Nothing
|-
| 1 || $01 || $01e41b || Sword 1
|-
| 2 || $02 || $01e423 || Sword 2
|-
| 3 || $03 || $01e42b || Sword 3
|-
| 4 || $04 || $01e433 || Sword 4
|-
| 5 || $05 || $01e43b || Axe 1
|-
| 6 || $06 || $01e441 || Axe 2
|-
| 7 || $07 || $01e447 || Axe 3
|-
| 8 || $08 || $01e44d || Blade 1
|-
| 9 || $09 || $01e455 || Blade 2
|-
| 10 || $0a || $01e45d || Blade 3
|-
| 11 || $0b || $01e465 || Blade 4
|-
| 12 || $0c || $01e46d || Hammer 1
|-
| 13 || $0d || $01e476 || Hammer 2
|-
| 14 || $0e || $01e47f || Hammer 3
|-
| 15 || $0f || $01e488 || Celtis 1
|-
| 16 || $10 || $01e491 || Celtis 2
|-
| 17 || $11 || $01e49a || Celtis 3
|-
| 18 || $12 || $01e4a3 || Punch 1
|-
| 19 || $13 || $01e4ab || Punch 2
|-
| 20 || $14 || $01e4b3 || Punch 3
|-
| 21 || $15 || $01e4bb || Blow 1
|-
| 22 || $16 || $01e4c2 || Blow 2
|-
| 23 || $17 || $01e4c9 || Blow 3
|-
| 24 || $18 || $01e4d0 || Shot 1
|-
| 25 || $19 || $01e4d7 || Shot 2
|-
| 26 || $1a || $01e4de || Shot 3
|-
| 27 || $1b || $01e4e5 || Laser 1
|-
| 28 || $1c || $01e4ed || Laser 2
|-
| 29 || $1d || $01e4f5 || Laser 3
|-
| 30 || $1e || $01e4fd || Bomb 1
|-
| 31 || $1f || $01e504 || Bomb 2
|-
| 32 || $20 || $01e50b || Bomb 3
|-
| 33 || $21 || $01e512 || Bomb 4
|-
| 34 || $22 || $01e519 || Shield 1
|-
| 35 || $23 || $01e522 || Shield 2
|-
| 36 || $24 || $01e52b || Shield 3
|-
| 37 || $25 || $01e534 || Shield 4
|-
| 38 || $26 || $01e53d || Shield 5
|-
| 39 || $27 || $01e546 || Pack 1
|-
| 40 || $28 || $01e54d || Pack 2
|-
| 41 || $29 || $01e554 || Pack 3
|-
| 42 || $2a || $01e55b || Pack 4
|-
| 43 || $2b || $01e562 || Pack 5
|-
| 44 || $2c || $01e569 || Pack 6
|-
| 45 || $2d || $01e570 || Boots 1
|-
| 46 || $2e || $01e578 || Boots 2
|-
| 47 || $2f || $01e580 || Boots 3
|-
| 48 || $30 || $01e588 || Boots 4
|-
| 49 || $31 || $01e590 || Boots 5
|-
| 50 || $32 || $01e598 || Boots 6
|}

== Enemy Names Table ==

Located at file offset '''$01fdbe'''. Enemy names are stored as null-terminated ASCII strings.

{| class="wikitable sortable"
! Index !! Hex !! Address !! Name
|-
| 0 || $00 || $01fdbe || Mine
|-
| 1 || $01 || $01fdc3 || Turbo
|-
| 2 || $02 || $01fdc9 || Mushroom
|-
| 3 || $03 || $01fdd2 || Poison
|-
| 4 || $04 || $01fdd9 || Spider
|-
| 5 || $05 || $01fde0 || Spider (2)
|-
| 6 || $06 || $01fde7 || Gel
|-
| 7 || $07 || $01fdeb || Gelgel
|-
| 8 || $08 || $01fdf2 || Bosstoad
|-
| 9 || $09 || $01fdfb || Rushbird
|-
| 10 || $0a || $01fe04 || Quickbird
|-
| 11 || $0b || $01fe0e || Mole
|-
| 12 || $0c || $01fe13 || Powermole
|-
| 13 || $0d || $01fe1d || Tackler
|-
| 14 || $0e || $01fe25 || Plasmoke
|-
| 15 || $0f || $01fe2e || Elesmoke
|-
| 16 || $10 || $01fe37 || Monk
|-
| 17 || $11 || $01fe3c || Mummy
|-
| 18 || $12 || $01fe42 || Franken
|-
| 19 || $13 || $01fe4a || Ho Ho
|-
| 20 || $14 || $01fe50 || Gator
|-
| 21 || $15 || $01fe56 || Gunrobot
|-
| 22 || $16 || $01fe5f || CannonX
|-
| 23 || $17 || $01fe67 || Biolion
|-
| 24 || $18 || $01fe6f || Shell
|-
| 25 || $19 || $01fe75 || Urchin
|-
| 26 || $1a || $01fe7c || Luckstar
|-
| 27 || $1b || $01fe85 || Angler
|-
| 28 || $1c || $01fe8c || Octopus
|-
| 29 || $1d || $01fe94 || Pumpy
|-
| 30 || $1e || $01fe9a || Bumpy
|-
| 31 || $1f || $01fea0 || Faceman
|-
| 32 || $20 || $01fea8 || Bigface
|-
| 33 || $21 || $01feb0 || Redpixy
|-
| 34 || $22 || $01feb8 || Whitepixy
|-
| 35 || $23 || $01fec2 || Goldpixy
|-
| 36 || $24 || $01fecb || Knight
|-
| 37 || $25 || $01fed2 || Master
|-
| 38 || $26 || $01fed9 || Gagarian
|-
| 39 || $27 || $01fee2 || Ninja
|-
| 40 || $28 || $01fee8 || Beeper
|-
| 41 || $29 || $01feef || Cmdr.
|-
| 42 || $2a || $01fef5 || Masker
|-
| 43 || $2b || $01fefc || Beret
|-
| 44 || $2c || $01ff02 || Meta Crab
|-
| 45 || $2d || $01ff0c || Smallcrab
|-
| 46 || $2e || $01ff16 || Mamurana
|-
| 47 || $2f || $01ff1f || Big Eye
|-
| 48 || $30 || $01ff27 || Blacktank
|-
| 49 || $31 || $01ff31 || Gateau
|-
| 50 || $32 || $01ff38 || Soldier
|-
| 51 || $33 || $01ff40 || Gateau (2)
|-
| 52 || $34 || $01ff47 || De Rose
|-
| 53 || $35 || $01ff4f || Papamecha
|-
| 54 || $36 || $01ff59 || Bugbug
|-
| 55 || $37 || $01ff60 || Cmdr. (2)
|}

== Item Name Pointer Table ==

Located at file offset '''$01f748''', this table contains 83 16-bit little-endian pointers to null-terminated item names.

{| class="wikitable"
! Index Range !! Items !! Description
|-
| 0-4 || Unused || Placeholder entries
|-
| 5-8 || Sword 1-4 || Melee weapons
|-
| 9-11 || Axe 1-3 || Melee weapons
|-
| 12-15 || Blade 1-4 || Melee weapons
|-
| 16-18 || Hammer 1-3 || Melee weapons
|-
| 19-21 || Celtis 1-3 || Melee weapons
|-
| 22-24 || Punch 1-3 || Melee weapons
|-
| 25-27 || Blow 1-3 || Melee weapons
|-
| 28-30 || Shot 1-3 || Ranged weapons
|-
| 31-33 || Laser 1-3 || Ranged weapons
|-
| 34-37 || Bomb 1-4 || Ranged weapons
|-
| 38-42 || Shield 1-5 || Defensive equipment
|-
| 43-48 || Pack items || Robot accessories
|-
| 49-54 || Boots 1-6 || Movement equipment
|-
| 55-76 || Unused || Empty slots (point to blank)
|-
| 77-82 || Key items || Trans, Horn, Drill, Vanish, Change, Glasses
|}

== Combination Recipe Table ==

Located at file offset '''$01c200''', this table encodes weapon/item combination recipes.

'''Format:'''
* Uses marker bytes $68-$79 to indicate item categories
* $FF marks section separators
* Same-item pairs: sequence like [A A B] means A + A = B
* Chain format: [05 05 06 06 07] means Sword1+Sword1=Sword2, Sword2+Sword2=Sword3

'''Markers:'''
{| class="wikitable"
! Byte !! Category
|-
| $68 || Consumables (Smoke, Cure, etc.)
|-
| $69 || Punch/Axe weapons
|-
| $6a || Pack/Boots equipment
|-
| $6b || Blade weapons
|-
| $6c || Pack equipment
|-
| $6d || Multi-item recipe start
|-
| $6e || Shot weapons
|-
| $70 || Laser/Bomb weapons
|-
| $71 || Shield equipment
|-
| $FF || Section end
|}

'''Known same-item recipes:'''
* Smoke + Smoke = Cure ($68 marker, at $01c2c5)
* Sword 1 + Sword 1 = Sword 2 ($6d marker, at $01c2c9)
* Punch 3 + Punch 3 = Blow 1 ($69 marker, at $01c2d4)
* Pack 3 + Pack 3 = Pack 4 ($6a marker, at $01c2df)
* Hammer 3 + Hammer 3 = Celtis 1 ($6b marker, at $01c2ec)

== Actor/Entity Data ==

Located at file offset '''$038000''', this area contains actor/entity definitions for NPCs, enemies, and objects.

=== Actor Pointer Table ===

{| class="wikitable"
! Property !! Value
|-
| Location || $038000
|-
| Entry count || 192
|-
| Entry size || 2 bytes (16-bit pointer)
|-
| Total size || $180 (384 bytes)
|}

=== Actor Data Format ===

Standard actors (indices 1-191) use a 22-byte format:

<pre>
fe [gfx_lo] [gfx_hi] 83 [anim_lo] [anim_hi] 83   ; Frame 0
fe [gfx_lo] [gfx_hi] 83 [anim_lo] [anim_hi] 83   ; Frame 1
fe [gfx_lo] [gfx_hi] 83 [anim_lo] [anim_hi] 83   ; Frame 2
ff                                               ; Terminator
</pre>

{| class="wikitable"
! Field !! Offset !! Size !! Description
|-
| Marker || 0, 7, 14 || 1 || Always $fe
|-
| Graphics ptr || 1-2, 8-9, 15-16 || 2 || 16-bit pointer to graphics in bank $03
|-
| Bank marker 1 || 3, 10, 17 || 1 || Always $83 (bank $03 indicator)
|-
| Animation ptr || 4-5, 11-12, 18-19 || 2 || 16-bit pointer to animation in bank $03
|-
| Bank marker 2 || 6, 13, 20 || 1 || Always $83 (bank $03 indicator)
|-
| Terminator || 21 || 1 || Always $ff
|}

'''Actor 0 (Player)''' uses a different format specific to the main character.

=== Sample Actor Entries ===

{| class="wikitable"
! Index !! Offset !! Graphics !! Animation !! Notes
|-
| 1 || $038211 || $03cece || $039213 || NPC type A
|-
| 2 || $038227 || $03cf16 || $039243 || NPC type B
|-
| 3 || $03823d || $03d200 || $0392d7 || NPC type C
|-
| 4 || $038253 || $03d076 || $03928d || NPC type D
|-
| 5 || $038269 || $03cfd2 || $039273 || NPC type E
|}

== Interrupt Vectors ==

{| class="wikitable"
! Vector !! Address !! Target !! Description
|-
| RESET || $fffc || $8000 || Game entry point
|-
| NMI (native) || $ffea || $800d || VBlank → JML $8bfb43
|-
| IRQ (native) || $ffee || $8011 || IRQ → JML $8bfbc8
|-
| COP (native) || $ffe4 || $8015 || COP → JML $809ee8
|-
| BRK (native) || $ffe6 || $8019 || BRK → JML $8bfbc9
|}

== Unused Space ==

{| class="wikitable"
! File Offset !! Size !! Description
|-
| $3400a-$37fff || $3ff6 || Unused (available for expansion)
|-
| $171f0e-$177fff || $60f2 || Unused
|}

== Notes ==

* The ROM uses HiROM mapping, so bank $c0 starts at file offset $0
* Graphics are mostly compressed using Quintet's LZSS
* Font graphics at $80000 are uncompressed 2BPP (GameBoy-style format)
* Map metadata format is similar to other Quintet games
* SRAM at $70:0000-$1fff stores save game data (see [[Robotrek (SNES)/RAM_Map|RAM Map]])

[[Category:ROM Maps]]
[[Category:SNES]]
