{{Back|Final Fantasy: Mystic Quest (SNES)}}
{{rommap}}

=Final Fantasy Mystic Quest ROM Map=

This ROM map documents the data and code locations for Final Fantasy Mystic Quest (SNES). The game uses '''LoROM''' mapping with a 1MB ROM.

'''Data Status:''' Partial documentation available. Sound data well-documented. Many code sections still need analysis.

==Overview==

{| class="wikitable"
|-
! Property !! Value
|-
| ROM Size || 1 MB (8 Mbit)
|-
| Mapping || LoROM
|-
| Region || US, EU, JP
|}

===Address Conversion===

<pre>
File Offset = (Bank Ã— $8000) + (Address & $7fff)
SNES Address = (Bank << 16) | $8000 | (File Offset & $7fff)
</pre>

==ROM Data Locations==

{| class="wikitable sortable"
! File Offset !! Bank:Address !! Category !! Description
|-
| $010715 || $02:8715 || Battle || Enemy damage animation frame data
|-
| $010b06 || $02:8b06 || Items || Weapon targeting data (sword is first item)
|-
| $010bf2 || $02:8bf2 || Items || Weapon stats and effects
|-
| $010f4a || $02:8f4a || Items || Weapon additional effects
|-
| $01572b || $02:d72b || Battle || Enemy formation positions (Behemoth position on screen)
|-
| $032b00 || $06:ab00 || Maps || Tile properties (solid, walkable, movement effects)
|-
| $034084 || $06:c084 || Graphics || Location palette assignments (Level Forest first)
|-
| $038200 || $07:8200 || Graphics || Menu palettes
|-
| $03b218 || $07:b218 || Maps || 2-byte pointers to location data (Level Forest first)
|}

==Subpages==

Detailed documentation for specific data types:

* [[Final Fantasy: Mystic Quest/ROM map/Full Map|Full ROM Map]]
* [[Final Fantasy: Mystic Quest/ROM map/Characters|Characters]]
* [[Final Fantasy: Mystic Quest/ROM map/Code|Code]]
* [[Final Fantasy: Mystic Quest/ROM map/Enemies|Enemies]]
* [[Final Fantasy: Mystic Quest/ROM map/Graphics|Graphics]]
* [[Final Fantasy: Mystic Quest/ROM map/Maps|Maps]]
* [[Final Fantasy: Mystic Quest/ROM map/Menus|Menus]]
* [[Final Fantasy: Mystic Quest/ROM map/Sound|Sound]]
* [[Final Fantasy: Mystic Quest/ROM map/Text|Text]]

==Sound Data==

The game's audio system uses SPC700 sequence data with BRR samples.

===Sound Pointers===

{| class="wikitable"
! File Offset !! Description
|-
| $6bdae || Pointers to SPC sequences (3 bytes each)
|-
| $6bdff || Pointers to BRR samples (3 bytes each)
|-
| $6bea1-$6c1e1 || Instrument sample indexes
|-
| $6c201 || BRR sample data start
|-
| $750fd || SPC sequence data start
|}

===Music Track Locations===

{| class="wikitable sortable"
! File Offset !! Track Name
|-
| $750fd || Silence
|-
| $78573 || Battle 1
|-
| $78b68 || Battle 2
|-
| $79320 || Battle 3
|-
| $79b73 || Victory!
|-
| $79e0a || World
|-
| $79f87 || Fossil Labyrinth
|-
| $7a29a || Dungeon of Ice
|-
| $7a84e || Lava Dome
|-
| $7ae4e || Mountain Range of Whirlwinds
|-
| $7b20b || Dungeon and Waterfall
|-
| $7b504 || Middle Tower
|-
| $7b779 || Last Castle
|-
| $7bf2e || Beautiful Forest
|-
| $7c2f8 || Shrine of Light
|-
| $7c743 || City of Earth ~ Foresta
|-
| $7cc41 || City of Ice ~ Aquaria
|-
| $7d151 || City of Fire ~ Faeria
|-
| $7da03 || City of Wind ~ Windaria
|-
| $7df42 || Rock 'n' Roll
|-
| $7e410 || Rock Theme
|-
| $7e810 || Fanfare of Friendship
|-
| $7e8c2 || Mystic Ballad
|-
| $7eaab || Hill of Fate
|-
| $7eedd || Mystic Quest
|-
| $7f473 || Ending
|-
| $7fbd3 || The Crystal
|}

===SPC Sequence Commands===

====Note Commands ($00-$ce)====

{| class="wikitable"
! Range !! Description
|-
| $00-$0d || Play note C
|-
| $0e-$1b || Play note C#
|-
| $1c-$29 || Play note D
|-
| $2a-$37 || Play note D#
|-
| $38-$45 || Play note E
|-
| $46-$53 || Play note F
|-
| $54-$61 || Play note F#
|-
| $62-$6f || Play note G
|-
| $70-$7d || Play note G#
|-
| $7e-$8b || Play note A
|-
| $8c-$99 || Play note A#
|-
| $9a-$a7 || Play note B
|-
| $a8-$bf || Play note B#
|-
| $c0-$ce || Rest
|}

====Control Commands ($d0+)====

{| class="wikitable"
! Command !! Parameters !! Description
|-
| $d2 xx || 1 byte || Set instrument volume to xx
|-
| $d3 xx || 1 byte || Unknown
|-
| $d4 xx || 1 byte || Pan channel ($00=Right, $64=Middle, $ff=Left, reverse stereo)
|-
| $d7 ss tt dd || 3 bytes || Vibrato: speed, time delay, depth
|-
| $e0 || 0 bytes || Vibrato off
|-
| $e4 xx || 1 byte || Change pitch to xx
|-
| $e5 xx || 1 byte || Set length of next note to xx
|-
| $ea xx || 1 byte || Change instrument to xx
|-
| $f0 xx yy || 2 bytes || Unknown
|-
| $f2 || 0 bytes || End of channel
|-
| $f3 xx || 1 byte || Change tempo to xx
|-
| $f5 xx || 1 byte || Set reverb to xx
|}
* F6  - ???
* F7 xx yy - ???
* F8 xx  - set global SPC volume to xx
* FF   - end of sequence?


* Sample Index list from: 6BEA1-6C1E1

* 00 Nothing
* 01 Guitar
* 02 Kick Drum
* 03 Brass Section
* 04 Distortion Guitar
* 05 Synth Bass
* 06 Flute 1
* 07 Hihat
* 08 Flute 2
* 09 Rock Organ
* 0A Electric Bass
* 0B Snare Drum (loop)
* 0C Strings
* 0D Conga Drum
* 0E Trumpet
* 0F Xylophone
* 10 Cymbal Crash
* 11 Timpani
* 12 Wood Block


* Samples from within the SPC sequence (not listed on the sample index):

* 00 Triangle waveform
* 01 Triangle waveform (Synth Church Organ)
* 02 Square waveform (not Square as in Squaresoft)
* 03 Saw waveform (Overdrive)
* 04 Saw waveform (Synth Trumpet)
* 05 Square waveform (Overdrive)
* 06 Saw waveform?
* 07 Triangle waveform (Bell)
* 08 Triangle waveform (Overdrive)
* 09 Saw waveform (Overdrive)
* 0A Saw waveform (Synth Bass)
* 0B Sine waveform (Flute)
* 0C-3F Nothing

=Related=
<br>

{{Internal Data}}
